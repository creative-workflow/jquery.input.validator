/*! jquery.input.validator v1.0.19 | MIT */

(function(){var c,i=function(t,n){return function(){return t.apply(n,arguments)}};this.InputValidator=function(){function t(t,n){this.context=t,null==n&&(n={}),this.onProcessHints=i(this.onProcessHints,this),this.onInvalid=i(this.onInvalid,this),this.onValid=i(this.onValid,this),this.shouldBeValidated=i(this.shouldBeValidated,this),this.isSingle=i(this.isSingle,this),this.messageFor=i(this.messageFor,this),this.elementsFor=i(this.elementsFor,this),this.resetElement=i(this.resetElement,this),this.reset=i(this.reset,this),this.validateOne=i(this.validateOne,this),this.validate=i(this.validate,this),this.prepareElements=i(this.prepareElements,this),this.init=i(this.init,this),this.config=this.constructor.config,this.init(n,this.context),this.version="1.0.19"}return t.config={options:{validateOnFocusOut:!0,validateOnKeyUp:!0,validateOnClick:!1,focusOnInvalid:!0,scrollToOnInvalid:!0,scrollToOnInvalidOffset:80,removeHintOnFocus:!1},selectors:{elements:"input, textarea, select",ignore:":hidden, [readonly]"},classes:{invalid:"invalid error",valid:"valid",hint:"ivalidate-hint"},messages:{generic:"invalid",email:"invalid email",tel:"invalid phone number",number:"invalid number",minlength:"to short",maxlength:"to long",required:"required",hasClass:"missing class"},pattern:{decimal:/^[\d\.]*$/,number:/^\d*$/,tel:/^[0-9\/\-\+\s\(\)]*$/,email:/^\s*([\w\.!#\$%&\'\*\+-\/=\?\^`\{\|\}~]+)@([a-zA-Z0-9\-]{2,63}\..+)\s*$/},rules:{number:function(t,n,i){return"number"!==n.attr("type")||!(""+i).length||t.config.pattern.number.test(i)},tel:function(t,n,i){return"tel"!==n.attr("type")||!(""+i).length||t.config.pattern.tel.test(i)},email:function(t,n,i){return"email"!==n.attr("type")||!(""+i).length||t.config.pattern.email.test(i)},pattern:function(t,n,i){return!n.attr("pattern")||!(""+i).length||(""+i).match(n.attr("pattern"))},hasClass:function(t,n,i){return!n.data("rule-has-class")||n.hasClass(n.data("rule-has-class"))},decimal:function(t,n,i){return!(n.data("rule-decimal")||!(""+i).length)||t.config.pattern.decimal.test(i)},required:function(t,n,i){var e;return!n.attr("required")||null!=i&&("string"==(e=typeof i)||"array"===e?!!i.length:!!i)},minlength:function(t,n,i){return!n.attr("minlength")||(""+i).length>=parseInt(n.attr("minlength"),10)},maxlength:function(t,n,i){return!n.attr("maxlength")||(""+i).length<=parseInt(n.attr("maxlength"),10)}},handler:{onReset:null,onValid:null,onInvalid:null,onGetValidMessage:function(t,n){return n.data("msg-valid")},onGetInvalidMessage:function(t,n,i){var e;return e=i[0],n.data("msg-"+e.rule)||t.messageFor(e.rule)},onBuildHint:function(t,n,i,e){var s,l,a;return l=(s=t.config.classes).hint,a=!0===i?s.valid:s.invalid,c("<label>",{class:l+" "+a,for:n.attr("id")}).html(e)},onShowHint:function(t,n,i,e){if(null==e&&(e=null),i&&e&&i.text()===e.text())e.replaceWith(i);else{if(i&&(i.hide().slideUp(1),n.after(i)),e)return e.stop().slideUp(400,function(){return i&&i.stop().slideDown(400),e.remove()});i&&i.stop().slideDown(400)}},onShowHintForTesting:function(t,n,i,e){if(null==e&&(e=null),i&&n.after(i),e)return e.remove()}}},t.prototype.init=function(t,n){return null==n&&(n=null),t&&(this.config=jQuery.extend(!0,{},this.config,t)),this.elementsSelector=this.config.selectors.elements,this.ns="ivalidator",this.prepareElements(n)},t.prototype.prepareElements=function(t){var n,i,e,s,l;if(null==t&&(t=null),null==t&&(t=this.context),n=this.elementsFor(t),this.config.options.validateOnFocusOut&&n.off("focusout."+this.ns).on("focusout."+this.ns,(i=this,function(t){return i.validateOne(t.target)})),this.config.options.removeHintOnFocus&&n.off("focus."+this.ns).on("focus."+this.ns,(e=this,function(t){return e.resetElement(t.target)})),this.config.options.validateOnKeyUp&&n.off("keyup."+this.ns).on("keyup."+this.ns,(s=this,function(t){if(c(t.target).data("invalid"))return s.validateOne(t.target)})),this.config.options.validateOnClick)return n.off("click."+this.ns).on("click."+this.ns,(l=this,function(t){return l.validateOne(t.target)}))},t.prototype.validate=function(t){var n,i,e,s,l,a,o,r,h,u;for(null==t&&(t=null),s=[],l=0,a=(r=(i=this.elementsFor(t)).get()).length;l<a;l++)e=r[l],!0!==(h=this.validateOne(e))&&(s=s.concat(h));return!s.length||(this.config.options.focusOnInvalid&&((n=i.filter((u=this,function(t,n){return c(n).hasClass(u.config.classes.invalid)})).first()).focus(),this.config.options.scrollToOnInvalid&&(o=this.config.options.scrollToOnInvalidOffset,c("html, body").stop().animate({scrollTop:n.offset().top-o}))),s)},t.prototype.validateOne=function(t){var n,i,e,s,l;for(e in l=(n=c(t)).val(),i=[],s=this.config.rules)(0,s[e])(this,n,l)||i.push({element:n,rule:e,value:l});return 0===i.length?(this.onValid(n),!0):(this.onInvalid(n,i),i)},t.prototype.reset=function(t){var n,i,e,s,l;for(null==t&&(t=null),l=[],i=0,e=(s=this.elementsFor(t)).length;i<e;i++)n=s[i],l.push(this.resetElement(n));return l},t.prototype.resetElement=function(t){var n,i;return n=c(t),"function"==typeof(i=this.config.handler).onReset&&i.onReset(this,n),n.removeClass(this.config.classes.invalid+" "+this.config.classes.valid),c(n.data("ivalidator-hint")).remove(),n.data("ivalidator-hint",null)},t.prototype.elementsFor=function(t){return null==t&&(t=null),null==t&&(t=this.context),this.isSingle(t)?c(t):c(this.elementsSelector,t).not(this.config.selectors.ignore)},t.prototype.messageFor=function(t){var n;return(null!=(n=this.config.messages)?n[t]:void 0)?this.config.messages[t]:this.config.messages.generic},t.prototype.isSingle=function(t){return c(t).is(this.elementsSelector)},t.prototype.shouldBeValidated=function(t){return c(t).is(this.elementsSelector)&&!c(t).is(this.ignoreSelector)},t.prototype.onValid=function(t){var n;return t.data("invalid",!1).data("errors",null).attr("aria-invalid","false").removeClass(this.config.classes.invalid).addClass(this.config.classes.valid),this.onProcessHints(t,!0),"function"==typeof(n=this.config.handler).onValid?n.onValid(this,t):void 0},t.prototype.onInvalid=function(t,n){var i;return t.data("invalid",!0).data("errors",n).attr("aria-invalid","true").removeClass(this.config.classes.valid).addClass(this.config.classes.invalid),this.onProcessHints(t,n),"function"==typeof(i=this.config.handler).onInvalid?i.onInvalid(this,t,n):void 0},t.prototype.onProcessHints=function(t,n){var i,e,s;return e=t.data("ivalidator-hint"),(s=!(i=null)===n?this.config.handler.onGetValidMessage(this,t):this.config.handler.onGetInvalidMessage(this,t,n))&&(i=this.config.handler.onBuildHint(this,t,n,s)),t.data("ivalidator-hint",i),this.config.handler.onShowHint(this,t,i,e)},t}(),"undefined"!=typeof jQuery&&(c=jQuery,jQuery.fn.iValidator=function(t){var n,i;return null==t&&(t=null),(i=(n=c(this)).data("ivalidator"))&&null===t||(n.data("ivalidator",new InputValidator(n,t||{})),i=n.data("ivalidator")),i})}).call(this);