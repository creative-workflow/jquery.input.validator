/*! jquery.input.validator v1.0.12 | MIT */

(function(){var t,n=function(t,n){return function(){return t.apply(n,arguments)}};this.InputValidator=function(){function i(t,i){this.context=t,null==i&&(i={}),this.onProcessHints=n(this.onProcessHints,this),this.onInvalid=n(this.onInvalid,this),this.onValid=n(this.onValid,this),this.messageFor=n(this.messageFor,this),this.elementsFor=n(this.elementsFor,this),this.resetElement=n(this.resetElement,this),this.reset=n(this.reset,this),this.validateOne=n(this.validateOne,this),this.validate=n(this.validate,this),this.prepareElements=n(this.prepareElements,this),this.init=n(this.init,this),this.config=this.constructor.config,this.ns="ivalidator",this.version="1.0.12",this.init(i)}return i.config={options:{validateOnFocusOut:!0,validateOnKeyUp:!0,validateOnClick:!1,focusOnInvalid:!0,removeHintOnFocus:!1},selectors:{elements:"input, textarea, select",ignore:":hidden"},classes:{invalid:"invalid",valid:"valid",hint:"ivalidate-hint"},messages:{generic:"invalid",email:"invalid email",tel:"invalid phone number",number:"invalid number",minlength:"to short",maxlength:"to long",required:"required",hasClass:"missing class"},pattern:{decimal:/^[\d\.]*$/,number:/^\d*$/,tel:/^[0-9\/\-\+\s\(\)]*$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},rules:{minlength:function(t,n,i){return!n.attr("minlength")||(""+i).length>=parseInt(n.attr("minlength"),10)},maxlength:function(t,n,i){return!n.attr("maxlength")||(""+i).length<=parseInt(n.attr("maxlength"),10)},required:function(t,n,i){var e;return!n.attr("required")||void 0!==i&&null!==i&&("string"==(e=typeof i)||"array"===e?!!i.length:!!i)},number:function(t,n,i){return"number"!==n.attr("type")||!(""+i).length||t.config.pattern.number.test(i)},tel:function(t,n,i){return"tel"!==n.attr("type")||!(""+i).length||t.config.pattern.tel.test(i)},email:function(t,n,i){return"email"!==n.attr("type")||!(""+i).length||t.config.pattern.email.test(i)},pattern:function(t,n,i){return!n.attr("pattern")||!(""+i).length||(""+i).match(n.attr("pattern"))},hasClass:function(t,n,i){return!n.data("rule-has-class")||n.hasClass(n.data("rule-has-class"))},decimal:function(t,n,i){return!(n.data("rule-decimal")||!(""+i).length)||t.config.pattern.decimal.test(i)}},handler:{onReset:null,onValid:null,onInvalid:null,onGetValidMessage:function(t,n){return n.data("msg-valid")},onGetInvalidMessage:function(t,n,i){var e;return e=i[0],n.data("msg-"+e.rule)||t.messageFor(e.rule)},onBuildHint:function(n,i,e,s){var a,r,o;return a=n.config.classes,r=a.hint,o=!0===e?a.valid:a.invalid,t("<label>",{class:r+" "+o,for:i.attr("id")}).html(s)},onShowHint:function(t,n,i,e){if(null==e&&(e=null),i&&(i.hide(),n.after(i)),e)return e.fadeOut(100,function(){return i&&i.fadeIn(100),e.remove()});i&&i.fadeIn()},onShowHintForTesting:function(t,n,i,e){if(null==e&&(e=null),i&&n.after(i),e)return e.remove()}}},i.prototype.init=function(t,n){return null==n&&(n=null),t&&(this.config=jQuery.extend(!0,{},this.config,t)),this.prepareElements(n),this.config},i.prototype.prepareElements=function(n){var i;if(null==n&&(n=null),null==n&&(n=this.context),i=this.elementsFor(n),this.config.options.validateOnFocusOut&&i.off("focusout."+this.ns).on("focusout."+this.ns,function(t){return function(n){return t.validateOne(n.target)}}(this)),this.config.options.removeHintOnFocus&&i.off("focus."+this.ns).on("focus."+this.ns,function(t){return function(n){return t.resetElement(n.target)}}(this)),this.config.options.validateOnKeyUp&&i.off("keyup."+this.ns).on("keyup."+this.ns,function(n){return function(i){if(t(i.target).data("invalid"))return n.validateOne(i.target)}}(this)),this.config.options.validateOnClick)return i.off("click."+this.ns).on("click."+this.ns,function(t){return function(n){return t.validateOne(n.target)}}(this))},i.prototype.validate=function(t){var n,i,e,s,a,r;for(null==t&&(t=null),i=[],e=0,s=(a=this.elementsFor(t).get()).length;e<s;e++)n=a[e],!0!==(r=this.validateOne(n))&&(i=i.concat(r));return!i.length||i},i.prototype.validateOne=function(n){var i,e,s,a,r;r=(i=t(n)).val(),e=[],a=this.config.rules;for(s in a)(0,a[s])(this,i,r)||e.push({element:i,rule:s,value:r});return 0===e.length?(this.onValid(i),!0):(this.onInvalid(i,e),e)},i.prototype.reset=function(t){var n,i,e,s,a;for(null==t&&(t=null),a=[],i=0,e=(s=this.elementsFor(t)).length;i<e;i++)n=s[i],a.push(this.resetElement(n));return a},i.prototype.resetElement=function(n){var i,e;return i=t(n),"function"==typeof(e=this.config.handler).onReset&&e.onReset(this,i),i.removeClass(this.config.classes.invalid+" "+this.config.classes.valid),t(i.data("ivalidator-hint")).remove(),i.data("ivalidator-hint",null)},i.prototype.elementsFor=function(n){return null==n&&(n=null),null==n&&(n=this.context),t(this.config.selectors.elements,n).not(this.config.selectors.ignore)},i.prototype.messageFor=function(t){var n;return(null!=(n=this.config.messages)?n[t]:void 0)?this.config.messages[t]:this.config.messages.generic},i.prototype.onValid=function(t){var n;return t.data("invalid",!1).data("errors",null).removeClass(this.config.classes.invalid).addClass(this.config.classes.valid),this.onProcessHints(t,!0),"function"==typeof(n=this.config.handler).onValid?n.onValid(this,t):void 0},i.prototype.onInvalid=function(t,n){var i;if(t.data("invalid",!0).data("errors",n).removeClass(this.config.classes.valid).addClass(this.config.classes.invalid),this.onProcessHints(t,n),"function"==typeof(i=this.config.handler).onInvalid&&i.onInvalid(this,t,n),this.config.options.focusOnInvalid)return t.first().focus()},i.prototype.onProcessHints=function(t,n){var i,e,s;return e=t.data("ivalidator-hint"),i=null,(s=!0===n?this.config.handler.onGetValidMessage(this,t):this.config.handler.onGetInvalidMessage(this,t,n))&&(i=this.config.handler.onBuildHint(this,t,n,s)),t.data("ivalidator-hint",i),this.config.handler.onShowHint(this,t,i,e)},i}(),"undefined"!=typeof jQuery&&(t=jQuery,jQuery.fn.iValidator=function(n){var i,e;return null==n&&(n=null),i=t(this),(e=i.data("ivalidator"))&&null===n||(i.data("ivalidator",new InputValidator(i,n||{})),e=i.data("ivalidator")),e})}).call(this);