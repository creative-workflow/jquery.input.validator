/*! jquery.input.validator v1.1.6 | MIT */

(function(){var c,e=function(t,n){return function(){return t.apply(n,arguments)}};this.InputValidator=function(){function t(t,n){this.context=t,null==n&&(n={}),this.onProcessHints=e(this.onProcessHints,this),this.onInvalid=e(this.onInvalid,this),this.onValid=e(this.onValid,this),this.shouldBeValidated=e(this.shouldBeValidated,this),this.isSingle=e(this.isSingle,this),this.messageFor=e(this.messageFor,this),this.elementsFor=e(this.elementsFor,this),this.resetElement=e(this.resetElement,this),this.reset=e(this.reset,this),this.validateOne=e(this.validateOne,this),this.validate=e(this.validate,this),this.prepareElements=e(this.prepareElements,this),this.init=e(this.init,this),this.config=this.constructor.config,this.init(n,this.context),this.version="1.1.6"}return t.config={options:{validateOnFocusOut:!0,validateOnKeyUp:!0,validateOnClick:!1,focusOnInvalid:!0,scrollToOnInvalid:!0,scrollToOnInvalidOffset:80,removeHintOnFocus:!1},selectors:{elements:"input, textarea, select",ignore:":hidden, [readonly]"},classes:{invalid:"invalid error",valid:"valid",hint:"ivalidate-hint"},messages:{generic:"invalid",email:"invalid email",tel:"invalid phone number",number:"invalid number",minlength:"to short",maxlength:"to long",required:"required",hasClass:"missing class",equal:"unequal"},pattern:{decimal:/^[\d\.]*$/,number:/^\d*$/,tel:/^[0-9\/\-\+\s\(\)]*$/,email:/^\s*([\w!#\$%&\'\*\+\-\/=\?\^`\{\|\}_~]+[\w\.!#\$%&\'\*\+\-\/=\?\^`\{\|\}_~]*[\w!#\$%&\'\*\+\-\/=\?\^`\{\|\}_~]+)@([\w0-9\-\.]{2,63}\.[\w]+)\s*$/},rules:{number:function(t,n,e){return"number"!==n.attr("type")||!(""+e).length||t.config.pattern.number.test(e)},tel:function(t,n,e){return"tel"!==n.attr("type")||!(""+e).length||t.config.pattern.tel.test(e)},email:function(t,n,e){return"email"!==n.attr("type")||!(""+e).length||t.config.pattern.email.test(e)},pattern:function(t,n,e){return!n.attr("pattern")||!(""+e).length||(""+e).match(n.attr("pattern"))},hasClass:function(t,n,e){return!n.data("rule-has-class")||n.hasClass(n.data("rule-has-class"))},decimal:function(t,n,e){return!(n.data("rule-decimal")||!(""+e).length)||t.config.pattern.decimal.test(e)},required:function(t,n,e){var i;return!n.attr("required")||null!=e&&("string"==(i=typeof e)||"array"===i?!!e.length:!!e)},minlength:function(t,n,e){return!n.attr("minlength")||(""+e).length>=parseInt(n.attr("minlength"),10)},maxlength:function(t,n,e){return!n.attr("maxlength")||(""+e).length<=parseInt(n.attr("maxlength"),10)},equal:function(t,n,e,i){return!n.data("rule-is-equal-to")||e===c(n.data("rule-is-equal-to"),i).val()}},handler:{onReset:null,onValid:null,onInvalid:null,onGetValidMessage:function(t,n){return n.data("msg-valid")},onGetInvalidMessage:function(t,n,e){var i;return i=e[0],n.data("msg-"+i.rule)||t.messageFor(i.rule)},onBuildHint:function(t,n,e,i){var s,a,l;return a=(s=t.config.classes).hint,l=!0===e?s.valid:s.invalid,c("<label>",{class:a+" "+l,for:n.attr("id")}).html(i)},onShowHint:function(t,n,e,i){if(null==i&&(i=null),e&&i&&e.text()===i.text())i.replaceWith(e);else{if(e&&(e.hide().slideUp(1),n.after(e)),i)return i.stop().slideUp(400,function(){return e&&e.stop().slideDown(400),i.remove()});e&&e.stop().slideDown(400)}},onShowHintForTesting:function(t,n,e,i){if(null==i&&(i=null),e&&n.after(e),i)return i.remove()}}},t.prototype.init=function(t,n){return null==n&&(n=null),t&&(this.config=jQuery.extend(!0,{},this.config,t)),this.elementsSelector=this.config.selectors.elements,this.ns="ivalidator",this.prepareElements(n)},t.prototype.prepareElements=function(t){var n,e,i,s,a;if(null==t&&(t=null),null==t&&(t=this.context),n=this.elementsFor(t),this.config.options.validateOnFocusOut&&n.off("focusout."+this.ns).on("focusout."+this.ns,(e=this,function(t){return e.validateOne(t.target)})),this.config.options.removeHintOnFocus&&n.off("focus."+this.ns).on("focus."+this.ns,(i=this,function(t){return i.resetElement(t.target)})),this.config.options.validateOnKeyUp&&n.off("keyup."+this.ns).on("keyup."+this.ns,(s=this,function(t){if(c(t.target).data("invalid"))return s.validateOne(t.target)})),this.config.options.validateOnClick)return n.off("click."+this.ns).on("click."+this.ns,(a=this,function(t){return a.validateOne(t.target)}))},t.prototype.validate=function(t){var n,e,i,s,a,l,o,r,h,u;for(null==t&&(t=null),s=[],a=0,l=(r=(e=this.elementsFor(t)).get()).length;a<l;a++)i=r[a],!0!==(h=this.validateOne(i,t))&&(s=s.concat(h));return!s.length||(this.config.options.focusOnInvalid&&((n=e.filter((u=this,function(t,n){return c(n).hasClass(u.config.classes.invalid)})).first()).focus(),this.config.options.scrollToOnInvalid&&(o=this.config.options.scrollToOnInvalidOffset,c("html, body").stop().animate({scrollTop:n.offset().top-o}))),s)},t.prototype.validateOne=function(t,n){var e,i,s,a,l,o;for(s in null==n&&(n=this.context),i=[],o="checkbox"===(a=(e=c(t)).attr("type"))||"radio"===a?(s=e.attr("name"),c("[name='"+s+"']:checked",n).val()):e.val(),l=this.config.rules)(0,l[s])(this,e,o,n)||i.push({element:e,rule:s,value:o});return 0===i.length?(this.onValid(e),!0):(this.onInvalid(e,i),i)},t.prototype.reset=function(t){var n,e,i,s,a;for(null==t&&(t=null),a=[],e=0,i=(s=this.elementsFor(t)).length;e<i;e++)n=s[e],a.push(this.resetElement(n));return a},t.prototype.resetElement=function(t){var n,e;return n=c(t),"function"==typeof(e=this.config.handler).onReset&&e.onReset(this,n),n.removeClass(this.config.classes.invalid+" "+this.config.classes.valid),c(n.data("ivalidator-hint")).remove(),n.data("ivalidator-hint",null)},t.prototype.elementsFor=function(t){return null==t&&(t=null),null==t&&(t=this.context),this.isSingle(t)?c(t):c(this.elementsSelector,t).not(this.config.selectors.ignore)},t.prototype.messageFor=function(t){var n;return(null!=(n=this.config.messages)?n[t]:void 0)?this.config.messages[t]:this.config.messages.generic},t.prototype.isSingle=function(t){return c(t).is(this.elementsSelector)},t.prototype.shouldBeValidated=function(t){return c(t).is(this.elementsSelector)&&!c(t).is(this.ignoreSelector)},t.prototype.onValid=function(t){var n;return t.data("invalid",!1).data("errors",null).attr("aria-invalid","false").removeClass(this.config.classes.invalid).addClass(this.config.classes.valid),this.onProcessHints(t,!0),"function"==typeof(n=this.config.handler).onValid?n.onValid(this,t):void 0},t.prototype.onInvalid=function(t,n){var e;return t.data("invalid",!0).data("errors",n).attr("aria-invalid","true").removeClass(this.config.classes.valid).addClass(this.config.classes.invalid),this.onProcessHints(t,n),"function"==typeof(e=this.config.handler).onInvalid?e.onInvalid(this,t,n):void 0},t.prototype.onProcessHints=function(t,n){var e,i,s;return i=t.data("ivalidator-hint"),(s=!(e=null)===n?this.config.handler.onGetValidMessage(this,t):this.config.handler.onGetInvalidMessage(this,t,n))&&(e=this.config.handler.onBuildHint(this,t,n,s)),t.data("ivalidator-hint",e),this.config.handler.onShowHint(this,t,e,i)},t}(),"undefined"!=typeof jQuery&&(c=jQuery,jQuery.fn.iValidator=function(t){var n,e;return null==t&&(t=null),(e=(n=c(this)).data("ivalidator"))&&null===t||(n.data("ivalidator",new InputValidator(n,t||{})),e=n.data("ivalidator")),e})}).call(this);