/*! jquery.input.validator v1.0.7 | MIT */

(function(){var t,n=function(t,n){return function(){return t.apply(n,arguments)}};this.InputValidator=function(){function e(t,e){this.context=t,null==e&&(e={}),this.messageFor=n(this.messageFor,this),this.elementsFor=n(this.elementsFor,this),this.resetElement=n(this.resetElement,this),this.reset=n(this.reset,this),this.validateOne=n(this.validateOne,this),this.validate=n(this.validate,this),this.prepareElements=n(this.prepareElements,this),this.init=n(this.init,this),this.config=this.constructor.config,this.ns="ivalidator",this.version="1.0.7",this.init(e)}return e.config={options:{validateOnFocusOut:!0,validateOnKeyUp:!0,validateOnClick:!1,focusOnInvalid:!0,removeHintOnFocus:!1},selectors:{elements:"input, textarea, select",ignore:":hidden"},classes:{invalid:"invalid",valid:"valid",hint:"error-hint"},pattern:{decimal:/^[\d\.]*$/,number:/^\d*$/,tel:/^[0-9\/\-\+\s\(\)]*$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},rules:{minlength:function(t,n,e){return!n.attr("minlength")||(""+e).length>=parseInt(n.attr("minlength"),10)},maxlength:function(t,n,e){return!n.attr("maxlength")||(""+e).length<=parseInt(n.attr("maxlength"),10)},required:function(t,n,e){var i;return!n.attr("required")||void 0!==e&&null!==e&&("string"==(i=typeof e)||"array"===i?!!e.length:!!e)},number:function(t,n,e){return"number"!==n.attr("type")||!(""+e).length||t.config.pattern.number.test(e)},tel:function(t,n,e){return"tel"!==n.attr("type")||!(""+e).length||t.config.pattern.tel.test(e)},email:function(t,n,e){return"email"!==n.attr("type")||!(""+e).length||t.config.pattern.email.test(e)},pattern:function(t,n,e){return!n.attr("pattern")||!(""+e).length||(""+e).match(n.attr("pattern"))},hasClass:function(t,n,e){return!n.data("rule-has-class")||n.hasClass(n.data("rule-has-class"))},decimal:function(t,n,e){return!(n.data("rule-decimal")||!(""+e).length)||t.config.pattern.decimal.test(e)}},messages:{generic:"invalid",email:"invalid email",tel:"invalid phone number",number:"invalid number",minlength:"to short",maxlength:"to long",required:"required",hasClass:"missing class"},handler:{onValid:null,onInvalid:null,onReset:null,onBuildErrorHint:function(n,e,i,r){return t("<label class='"+n.config.classes.hint+"' for='"+e.attr("id")+"'></label>")},onBuildErrorHintIntern:function(t,n,e,i){var r,a;return a=i[0],(r=n.data("ivalidator-hint"))||(r=t.config.handler.onBuildErrorHint(t,n,e,i),n.data("ivalidator-hint",r).after(r)),r.html(a.message)},onValidIntern:function(t,n,e,i){var r;return r=t.config.classes,t.config.handler.onResetIntern(t,n),n.removeClass(r.invalid).addClass(r.valid)},onInvalidIntern:function(t,n,e,i){var r,a;return a=t.config.classes,n.removeClass(a.valid).addClass(a.invalid),t.config.handler.onBuildErrorHintIntern(t,n,e,i),"function"==typeof(r=t.config.handler).onInvalid?r.onInvalid(t,n,e,i):void 0},onResetIntern:function(n,e){var i,r,a;return a=n.config.classes,e.removeClass(a.invalid+" "+a.valid),t(e.data("ivalidator-hint")).remove(),e.data("ivalidator-hint",null),"function"==typeof(i=n.config.handler).onReset&&i.onReset(n,e),"function"==typeof(r=n.config.handler).onValid?r.onValid(n,e,value,errors):void 0}}},e.prototype.init=function(t,n){return null==n&&(n=null),t&&(this.config=jQuery.extend(!0,{},this.config,t)),this.prepareElements(n),this.config},e.prototype.prepareElements=function(n){var e;if(null==n&&(n=null),null==n&&(n=this.context),e=this.elementsFor(n),this.config.options.validateOnFocusOut&&e.off("focusout."+this.ns).on("focusout."+this.ns,function(t){return function(n){return t.validateOne(n.target)}}(this)),this.config.options.removeHintOnFocus&&e.off("focus."+this.ns).on("focus."+this.ns,function(t){return function(n){return t.resetElement(n.target)}}(this)),this.config.options.validateOnKeyUp&&e.off("keyup."+this.ns).on("keyup."+this.ns,function(n){return function(e){if(t(e.target).data("invalid"))return n.validateOne(e.target)}}(this)),this.config.options.validateOnClick)return e.off("click."+this.ns).on("click."+this.ns,function(t){return function(n){return t.validateOne(n.target)}}(this))},e.prototype.validate=function(t){var n,e,i,r,a,s;for(null==t&&(t=null),e=[],i=0,r=(a=this.elementsFor(t).get()).length;i<r;i++)n=a[i],!0!==(s=this.validateOne(n))&&(e=e.concat(s));return!e.length||e},e.prototype.validateOne=function(n){var e,i,r,a,s;s=(e=t(n)).val(),i=[],a=this.config.rules;for(r in a)(0,a[r])(this,e,s)||i.push({message:e.data("msg-"+r)||this.messageFor(r),element:e,rule:r,value:s});return 0===i.length?(e.data("invalid",!1),this.config.handler.onValidIntern(this,e,s,i),!0):(e.data("invalid",!0),this.config.handler.onInvalidIntern(this,e,s,i),this.config.options.focusOnInvalid&&e.first().focus(),i)},e.prototype.reset=function(t){var n,e,i,r,a;for(null==t&&(t=null),a=[],e=0,i=(r=this.elementsFor(t)).length;e<i;e++)n=r[e],a.push(this.resetElement(n));return a},e.prototype.resetElement=function(n){return this.config.handler.onResetIntern(this,t(n))},e.prototype.elementsFor=function(n){return null==n&&(n=null),null==n&&(n=this.context),t(this.config.selectors.elements,n).not(this.config.selectors.ignore)},e.prototype.messageFor=function(t){var n;return(null!=(n=this.config.messages)?n[t]:void 0)?this.config.messages[t]:this.config.messages.generic},e}(),"undefined"!=typeof jQuery&&(t=jQuery,jQuery.fn.iValidator=function(n){var e,i;return null==n&&(n=null),e=t(this),(i=e.data("ivalidator"))&&null===n||(e.data("ivalidator",new InputValidator(e,n||{})),i=e.data("ivalidator")),i})}).call(this);