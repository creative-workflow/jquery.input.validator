/*! jquery.input.validator v1.1.11 | MIT */

(function(){var t,n=function(t,n){return function(){return t.apply(n,arguments)}};this.InputValidator=function(){function e(t,e){this.context=t,null==e&&(e={}),this.onProcessHints=n(this.onProcessHints,this),this.onInvalid=n(this.onInvalid,this),this.onValid=n(this.onValid,this),this.shouldBeValidated=n(this.shouldBeValidated,this),this.isSingle=n(this.isSingle,this),this.messageFor=n(this.messageFor,this),this.elementsFor=n(this.elementsFor,this),this.resetElement=n(this.resetElement,this),this.reset=n(this.reset,this),this.validateOne=n(this.validateOne,this),this.validate=n(this.validate,this),this.prepareElements=n(this.prepareElements,this),this.init=n(this.init,this),this.config=this.constructor.config,this.init(e,this.context),this.version="1.1.11"}return e.config={options:{validateOnFocusOut:!0,validateOnKeyUp:!0,validateOnClick:!1,focusOnInvalid:!0,scrollToOnInvalid:!0,scrollToOnInvalidOffset:80,removeHintOnFocus:!1},selectors:{elements:"input, textarea, select",ignore:":hidden:not(.force-validate), [readonly]:not(.force-validate)"},classes:{invalid:"invalid error",valid:"valid",hint:"ivalidate-hint"},messages:{generic:"invalid",email:"invalid email",tel:"invalid phone number",number:"invalid number",minlength:"to short",maxlength:"to long",min:"number to low",max:"number to high",required:"required",hasClass:"missing class",equal:"unequal"},pattern:{decimal:/^[\d\.]*$/,number:/^\d*$/,tel:/^[0-9\/\-\+\s\(\)]*$/,email:/^\s*([\w!#\$%&\'\*\+\-\/=\?\^`\{\|\}_~]+[\w\.!#\$%&\'\*\+\-\/=\?\^`\{\|\}_~]*[\w!#\$%&\'\*\+\-\/=\?\^`\{\|\}_~]+)@([\w0-9\-\.]{2,63}\.[\w]+)\s*$/},rules:{number:function(t,n,e){return"number"!==n.attr("type")||!(""+e).length||t.config.pattern.number.test(t.strip(e))},tel:function(t,n,e){return"tel"!==n.attr("type")||!(""+e).length||t.config.pattern.tel.test(t.strip(e))},email:function(t,n,e){return"email"!==n.attr("type")||!(""+e).length||t.config.pattern.email.test(t.strip(e))},pattern:function(t,n,e){return!n.attr("pattern")||!(""+e).length||(""+e).match(n.attr("pattern"))},hasClass:function(t,n,e){return!n.data("rule-has-class")||n.hasClass(n.data("rule-has-class"))},decimal:function(t,n,e){return!(n.data("rule-decimal")||!(""+e).length)||t.config.pattern.decimal.test(t.strip(e))},required:function(t,n,e){var i;return!n.attr("required")||void 0!==e&&null!==e&&("string"==(i=typeof e)||"array"===i?!!e.length:!!e)},minlength:function(t,n,e){return!n.attr("minlength")||(""+e).length>=parseInt(n.attr("minlength"),10)},maxlength:function(t,n,e){return!n.attr("maxlength")||(""+e).length<=parseInt(n.attr("maxlength"),10)},min:function(t,n,e){return!n.attr("min")||parseInt(e,10)>=parseInt(n.attr("min"),10)},max:function(t,n,e){return!n.attr("max")||parseInt(e||0,10)<=parseInt(n.attr("max"),10)},equal:function(n,e,i,s){return!e.data("rule-is-equal-to")||i===t(e.data("rule-is-equal-to"),s).val()}},handler:{onReset:null,onValid:null,onInvalid:null,onGetValidMessage:function(t,n){return n.data("msg-valid")},onGetInvalidMessage:function(t,n,e){var i;return i=e[0],n.data("msg-"+i.rule)||t.messageFor(i.rule)},onBuildHint:function(n,e,i,s){var a,r,o;return a=n.config.classes,r=a.hint,o=!0===i?a.valid:a.invalid,t("<label>",{class:r+" "+o,for:e.attr("id")}).html(s)},onShowHint:function(n,e,i,s){if(null==s&&(s=null),i&&s&&i.text()===s.text())s.replaceWith(i);else{if(i&&(i.hide().slideUp(1),e.data("ivalidator-attach-hint-to")?t(e.data("ivalidator-attach-hint-to")).append(i):e.after(i)),s)return s.stop().slideUp(400,function(){return i&&i.stop().slideDown(400),s.remove()});i&&i.stop().slideDown(400)}},onShowHintForTesting:function(t,n,e,i){if(null==i&&(i=null),e&&n.after(e),i)return i.remove()}}},e.prototype.init=function(t,n){return null==n&&(n=null),t&&(this.config=jQuery.extend(!0,{},this.config,t)),this.elementsSelector=this.config.selectors.elements,this.ns="ivalidator",this.prepareElements(n)},e.prototype.strip=function(t){var n,e;for(n="",e=0;e<t.length;)t.charCodeAt(e)>=32&&t.charCodeAt(e)<=255&&(n+=t.charAt(e)),e++;return n},e.prototype.prepareElements=function(n){var e;if(null==n&&(n=null),null==n&&(n=this.context),e=this.elementsFor(n),this.config.options.validateOnFocusOut&&e.off("focusout."+this.ns).on("focusout."+this.ns,function(t){return function(n){return t.validateOne(n.target)}}(this)),this.config.options.removeHintOnFocus&&e.off("focus."+this.ns).on("focus."+this.ns,function(t){return function(n){return t.resetElement(n.target)}}(this)),this.config.options.validateOnKeyUp&&e.off("keyup."+this.ns).on("keyup."+this.ns,function(n){return function(e){if(t(e.target).data("invalid"))return n.validateOne(e.target)}}(this)),this.config.options.validateOnClick)return e.off("click."+this.ns).on("click."+this.ns,function(t){return function(n){return t.validateOne(n.target)}}(this))},e.prototype.validate=function(n){var e,i,s,a,r,o,l,u,h;for(null==n&&(n=null),a=[],r=0,o=(u=(i=this.elementsFor(n)).get()).length;r<o;r++)s=u[r],!0!==(h=this.validateOne(s,n))&&(a=a.concat(h));return!a.length||(this.config.options.focusOnInvalid&&((e=i.filter(function(n){return function(e,i){return t(i).hasClass(n.config.classes.invalid)}}(this)).first()).focus(),this.config.options.scrollToOnInvalid&&(l=this.config.options.scrollToOnInvalidOffset,t("html, body").stop().animate({scrollTop:e.offset().top-l}))),a)},e.prototype.validateOne=function(n,e){var i,s,a,r,o,l;null==e&&(e=this.context),s=[],"checkbox"===(r=(i=t(n)).attr("type"))||"radio"===r?(a=i.attr("name"),l=t("[name='"+a+"']:checked",e).val()):l=i.val(),o=this.config.rules;for(a in o)(0,o[a])(this,i,l,e)||s.push({element:i,rule:a,value:l});return 0===s.length?(this.onValid(i),!0):(this.onInvalid(i,s),s)},e.prototype.reset=function(t){var n,e,i,s,a;for(null==t&&(t=null),a=[],e=0,i=(s=this.elementsFor(t)).length;e<i;e++)n=s[e],a.push(this.resetElement(n));return a},e.prototype.resetElement=function(n){var e,i;return e=t(n),"function"==typeof(i=this.config.handler).onReset&&i.onReset(this,e),e.removeClass(this.config.classes.invalid+" "+this.config.classes.valid),t(e.data("ivalidator-hint")).remove(),e.data("ivalidator-hint",null)},e.prototype.elementsFor=function(n){return null==n&&(n=null),null==n&&(n=this.context),this.isSingle(n)?t(n):t(this.elementsSelector,n).not(this.config.selectors.ignore)},e.prototype.messageFor=function(t){var n;return(null!=(n=this.config.messages)?n[t]:void 0)?this.config.messages[t]:this.config.messages.generic},e.prototype.isSingle=function(n){return t(n).is(this.elementsSelector)},e.prototype.shouldBeValidated=function(n){return t(n).is(this.elementsSelector)&&!t(n).is(this.ignoreSelector)},e.prototype.onValid=function(t){var n;return t.data("invalid",!1).data("errors",null).attr("aria-invalid","false").removeClass(this.config.classes.invalid).addClass(this.config.classes.valid),this.onProcessHints(t,!0),"function"==typeof(n=this.config.handler).onValid?n.onValid(this,t):void 0},e.prototype.onInvalid=function(t,n){var e;return t.data("invalid",!0).data("errors",n).attr("aria-invalid","true").removeClass(this.config.classes.valid).addClass(this.config.classes.invalid),this.onProcessHints(t,n),"function"==typeof(e=this.config.handler).onInvalid?e.onInvalid(this,t,n):void 0},e.prototype.onProcessHints=function(t,n){var e,i,s;return i=t.data("ivalidator-hint"),e=null,(s=!0===n?this.config.handler.onGetValidMessage(this,t):this.config.handler.onGetInvalidMessage(this,t,n))&&(e=this.config.handler.onBuildHint(this,t,n,s)),t.data("ivalidator-hint",e),this.config.handler.onShowHint(this,t,e,i)},e}(),"undefined"!=typeof jQuery&&(t=jQuery,jQuery.fn.iValidator=function(n){var e,i;return null==n&&(n=null),e=t(this),(i=e.data("ivalidator"))&&null===n||(e.data("ivalidator",new InputValidator(e,n||{})),i=e.data("ivalidator")),i})}).call(this);