/*! jquery.input.validator v1.0.2 | MIT */

(function(){var l,e=function(t,n){return function(){return t.apply(n,arguments)}};this.InputValidator=function(){function t(t,n){this.context=t,null==n&&(n={}),this.messageFor=e(this.messageFor,this),this.elements=e(this.elements,this),this.resetElement=e(this.resetElement,this),this.reset=e(this.reset,this),this.validateElement=e(this.validateElement,this),this.validate=e(this.validate,this),this.prepareElements=e(this.prepareElements,this),this.init=e(this.init,this),this.config=this.constructor.config,this.init(n)}return t.config={validateOnFocusOut:!0,validateOnKeyUp:!1,validateOnClick:!1,focusInvalidElement:!0,removeHintOnFocus:!1,selectors:{elements:"input, textarea, select",ignore:":hidden"},classes:{error:"error",valid:"valid",hint:"error-hint"},pattern:{decimal:/^[\d\.]*$/,number:/^\d*$/,tel:/^[0-9\/\-\+\s\(\)]*$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},rules:{minlength:function(t,n,e){return!n.attr("minlength")||(""+e).length>=parseInt(n.attr("minlength"),10)},maxlength:function(t,n,e){return!n.attr("maxlength")||(""+e).length<=parseInt(n.attr("maxlength"),10)},required:function(t,n,e){var i;return!n.attr("required")||null!=e&&("string"==(i=typeof e)||"array"===i?!!e.length:!!e)},number:function(t,n,e){return"number"!==n.attr("type")||!(""+e).length||t.config.pattern.number.test(e)},tel:function(t,n,e){return"tel"!==n.attr("type")||!(""+e).length||t.config.pattern.tel.test(e)},email:function(t,n,e){return"email"!==n.attr("type")||!(""+e).length||t.config.pattern.email.test(e)},pattern:function(t,n,e){return!n.attr("pattern")||!(""+e).length||(""+e).match(n.attr("pattern"))},hasClass:function(t,n,e){return!n.data("rule-has-class")||n.hasClass(n.data("rule-has-class"))},decimal:function(t,n,e){return!(n.data("rule-decimal")||!(""+e).length)||t.config.pattern.decimal.test(e)}},messages:{generic:"invalid",email:"invalid email",tel:"invalid phone number",number:"invalid number",minlength:"to short",maxlength:"to long",required:"required",hasClass:"missing class"},handler:{onValid:null,onInvalid:null,onReset:null,onBuildErrorHint:function(t,n,e,i){return l("<label class='"+t.config.classes.hint+"' for='"+n.attr("id")+"'></label>")},onBuildErrorHintIntern:function(t,n,e,i){var r,a;return a=i[0],(r=n.data("inputvalidator-hint"))||(r=t.config.handler.onBuildErrorHint(t,n,e,i),n.data("inputvalidator-hint",r).after(r)),r.html(a.message)},onValidIntern:function(t,n,e,i){var r;return r=t.config.classes,t.config.handler.onResetIntern(t,n),n.removeClass(r.error).addClass(r.valid)},onInvalidIntern:function(t,n,e,i){var r,a;return a=t.config.classes,n.removeClass(a.valid).addClass(a.error),t.config.handler.onBuildErrorHintIntern(t,n,e,i),"function"==typeof(r=t.config.handler).onInvalid?r.onInvalid(t,n,e,i):void 0},onResetIntern:function(t,n){var e,i,r;return r=t.config.classes,n.removeClass(r.error+" "+r.valid),l(n.data("inputvalidator-hint")).remove(),n.data("inputvalidator-hint",void 0),"function"==typeof(e=t.config.handler).onReset&&e.onReset(t,n),"function"==typeof(i=t.config.handler).onValid?i.onValid(t,n,value,errors):void 0}}},t.prototype.init=function(t,n){return null==n&&(n=null),t&&(this.config=jQuery.extend(!0,{},this.config,t)),this.prepareElements(n),this.config},t.prototype.prepareElements=function(t){var n,e,i,r,a;if(null==t&&(t=null),null==t&&(t=this.context),n=this.elements(t),this.config.validateOnFocusOut&&n.focusout((e=this,function(t){return e.validateElement(t.target)})),this.config.removeHintOnFocus&&n.focus((i=this,function(t){return i.resetElement(t.target)})),this.config.validateOnKeyUp&&n.keyup((r=this,function(t){if(l(t.target).data("invalid"))return r.validateElement(t.target)})),this.config.validateOnClick)return n.click((a=this,function(t){return a.validateElement(t.target)}))},t.prototype.validate=function(t){var n,e,i,r,a;for(null==t&&(t=null),e=[],i=0,r=(a=this.elements(t).get()).length;i<r;i++)n=a[i],e=e.concat(this.validateElement(n));return e},t.prototype.validateElement=function(t){var n,e,i,r,a;for(i in a=(n=l(t)).val(),e=[],r=this.config.rules)(0,r[i])(this,n,a)||e.push({message:n.data("msg-"+i)||this.messageFor(i),element:n,rule:i,value:a});return 0<e.length?(n.data("invalid",!0),this.config.handler.onInvalidIntern(this,n,a,e),this.config.focusInvalidElement&&n.first().focus()):(n.data("invalid",!1),this.config.handler.onValidIntern(this,n,a,e)),e},t.prototype.reset=function(t){return null==t&&(t=null),this.resetElement(this.elements(t))},t.prototype.resetElement=function(t){return this.config.handler.onResetIntern(this,t)},t.prototype.elements=function(t){return null==t&&(t=null),null==t&&(t=this.context),l(this.config.selectors.elements,t).not(this.config.selectors.ignore)},t.prototype.messageFor=function(t){var n;return(null!=(n=this.config.messages)?n[t]:void 0)?this.config.messages[t]:this.config.messages.generic},t}(),"undefined"!=typeof jQuery&&(l=jQuery,jQuery.fn.inputValidator=function(t){var n,e;return null==t&&(t=null),(e=(n=l(this)).data("inputvalidator"))&&null===t||(n.data("inputvalidator",new InputValidator(n,t||{})),e=n.data("inputvalidator")),e})}).call(this);